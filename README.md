# Gamma Spectrum Analysis

This project analyses gamma-ray spectra using a **NaI(Tl) scintillator** connected to a **PASCO UCS-30 universal computer spectrometer**.  
The analysis includes background subtraction, peak identification, Gaussian fitting, and basic statistical tests to characterise gamma-ray peaks.

---

## Scripts

Two scripts are provided:

### `Final_plot_saver.py`
- Runs the analysis and saves all plots in the folder `plots_2`
- Does **not** print numerical results

### `gamma_curve_fit.py`
- Runs the analysis and prints numerical results
- Displays plots interactively

---

## Input Data (CSV Files)

### File Naming Convention

CSV files follow the pattern:

    PHA PreAmp <Sample> <AcquisitionTime>sec; <Date>.csv

Example:

PHA PreAmp Rocks 7200sec; 15-1-2026.csv


**File name meaning:**
- `PHA PreAmp` → PASCO preamplifier output  
- `<Sample>` → Sample name  
- `<AcquisitionTime>` → Spectroscopy measurement time in seconds  
- `<Date>` → Date of data acquisition  

---

### CSV File Structure

Each CSV file contains:
- Detector settings
- Acquisition time
- Voltage and gain information
- Other metadata

Followed by a data section starting with:

Channel Data:
Channel,Energy,Counts

Only the **Channel** and **Counts** columns are used in the analysis.  
The **Energy** column is ignored and may not be present.

---

## What the Analysis Does

For each spectrum, the scripts perform the following steps:

### Spectrum Loading
- Reads channel–count data from the CSV file.

### Background Scaling and Subtraction
- Background spectra are scaled by acquisition time.
- The scaled background is subtracted from the sample spectrum.

### Spectrum Visualisation
- Linear-scale spectrum:
  - Raw spectrum
  - Background spectrum
  - Background-subtracted spectrum
- Log-scale spectrum:
  - Channels 0–600

### Peak Analysis
- Regions of interest (ROIs) are defined for each sample.
- The best ROIs are selected using the R² value.
- A Gaussian function is fitted to each accepted ROI.

### Statistical Tests (`gamma_curve_fit.py` only)

For each accepted peak, the following quantities are calculated and printed:
- Net counts and background counts
- Signal-to-background ratio (S/B)
- Peak significance (in σ)
- Gaussian centroid (μ), width (σ), and FWHM
- Fit quality (R²)

---

## Output

All plots generated by `Final_plot_saver.py` are saved in:

plots_2/

Plots are organised by sample and include:
- Full Linear spectra
- Full logarithmic spectra
- Individual Gaussian peak fits

---

## Notes

Usage

1. Ensure the data file(s) are in the same folder as the scripts.
2. Run the script with Python 3.x:
    ```bash
       python script_peak_analysis_2.py
   
- `.DS_Store` is a macOS system file.
- It does not affect the analysis and can be ignored or deleted.
